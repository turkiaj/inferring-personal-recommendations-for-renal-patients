# Inferring personal intake recommendations of phosphorous and potassium for end-stage renal failure patients by simulating with hierarchical Bayesian multivariate model
## Supplementary material for the research article

This repository contains all the data and code for reproducing the analysis and figures in the main article. The analysis is conducted in RMarkdown notebook and it contains all the details for model developing, testing and inference. All the figures and tables at the article are produced with this notebook without any editing.

Repository contents:

- inferring-personal-recommendations-for-renal-patients.pdf  - PDF extract of the main supplementary document
- inferring-personal-recommendations-for-renal-patients.Rmd  - Main supplementary document in RMarkdown 
- data/                                                      - Folder including "dialysis patient"-dataset that is used in the analysis
- data_imputation_models/                                    - Personal graphical models for imputing missing P-Alb analyses
- diet/                                                      - Stan-model for diet simulation
- figures/                                                   - Figures for the main article and supplementary material. These are generated by Rmd-notebook.
- graphs/                                                    - Personal graphical models that have been extracted from the hierarchical models
- mebn/v2/MEBNv2.r                                           - Reusable R-function library for constructing Mixed-effect Bayesian networks. 
- mebn/*.stan                                                - Stan definitions of different model candidates that are compared in the main document
- model_evaluations/                                         - Cached data frames for model evaluation
- models/                                                    - Cache folder for storing estimated hierarchical Stan models.
- tables/                                                    - Latex-tables for the main article and supplementary material. These are generated by Rmd-notebook.
- README.md                                                  - This file

Execution of the RMarkdown notebooks require R version 4.2 (https://cran.r-project.org/) and following packages
- RStan (https://mc-stan.org/users/interfaces/rstan)
- iGraph (https://igraph.org/r)
- Bayesplot (https://mc-stan.org/bayesplot)
- knitr (https://cran.r-project.org/web/packages/knitr)
- kableExtra (https://cran.r-project.org/web/packages/kableExtra)
- ggplot2 (https://cran.r-project.org/web/packages/ggplot2)
- gridExtra (https://cran.r-project.org/web/packages/gridExtra)
- stats
